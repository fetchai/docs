The overall script would be:

<GithubCodeSegment digest="9ed3a45551f019ad98402e56760de8d7">
    <CodeSegment
        path="https://github.com/fetchai/uAgent-Examples/blob/main/5-documentation/guides/agent-courses/introductory-course/agent_communication.py"
        lineStart={1}
        lineEnd={33}
        hosted={true}
    />
</GithubCodeSegment>
<CodeGroup dynamic hasCopy isLocalHostedFile digest='9ed3a45551f019ad98402e56760de8d7'>

<DocsCode local={true}>
	```py copy filename="agent_communication.py"

	from uagents import Agent, Bureau, Context, Model
	
	
	class Message(Model):
	    message: str
	
	
	alice = Agent(name="alice", seed="alice recovery phrase")
	bob = Agent(name="bob", seed="bob recovery phrase")
	
	
	@alice.on_interval(period=3.0)
	async def send_message(ctx: Context):
	    await ctx.send(bob.address, Message(message="hello there bob"))
	
	
	@bob.on_message(model=Message)
	async def bob_message_handler(ctx: Context, sender: str, msg: Message):
	    ctx.logger.info(f"Received message from {sender}: {msg.message}")
	    await ctx.send(alice.address, Message(message="hello there alice"))
	
	
	@alice.on_message(model=Message)
	async def alice_message_handler(ctx: Context, sender: str, msg: Message):
	    ctx.logger.info(f"Received message from {sender}: {msg.message}")

	testin cpode snippetss
	
	bureau = Bureau()
	bureau.add(alice)
	bureau.add(bob)
	 
    testingggg

	if __name__ == "__main__":
	    bureau.run()
    
    ```
</DocsCode>

</CodeGroup>


heloooe

We can now run the script. Just run: `poetry run python agent_communication.py` in your terminal.

The output would look as follows:

    ```
    [alice]: Received message from agent1q0mau8vkmg78xx0sh8cyl4tpl4ktx94pqp2e94cylu6haugt2hd7j9vequ7: hello there alice
    [  bob]: Received message from agent1qww3ju3h6kfcuqf54gkghvt2pqe8qp97a7nzm2vp8plfxflc0epzcjsv79t: hello there bob
    [alice]: Received message from agent1q0mau8vkmg78xx0sh8cyl4tpl4ktx94pqp2e94cylu6haugt2hd7j9vequ7: hello there alice
    [  bob]: Received message from agent1qww3ju3h6kfcuqf54gkghvt2pqe8qp97a7nzm2vp8plfxflc0epzcjsv79t: hello there bob
    [alice]: Received message from agent1q0mau8vkmg78xx0sh8cyl4tpl4ktx94pqp2e94cylu6haugt2hd7j9vequ7: hello there alice
    [ bob]: Received message from agent1qww3ju3h6kfcuqf54gkghvt2pqe8qp97a7nzm2vp8plfxflc0epzcjsv79t: hello there bob
    testinginoutputblock
    ```

Checkout the following documentation and resources for a better understanding of the above topics:

    -  [What's an Agent ↗️](/guides/agents/getting-started/whats-an-agent)
    -  [Create your first Agent ↗️](/guides/agents/getting-started/create-a-uagent)
    -  [Agent Addresses ↗️](/guides/agents/getting-started/getting-uagent-address)
    -  [Agent Handlers ↗️](/guides/agents/intermediate/handlers)
    -  [Bureau ↗️](/guides/agents/intermediate/bureau)

### Registering your Agents to the Open Marketplace

Agent registration in the [Almanac ↗️](/references/contracts/uagents-almanac/almanac-overview) contract is a key feature enabling Agents discoverability as well as remote Agents communication. When Agents regiterin the Almanac, they become part of the Open Marketplace and become avaiable for interactio with other users and Aents registered in the contract. To register, Agents must pay a small fee. Therefore, your agents need to have funds available in their Fetch wallet address. 

Agents can communicate by querying the Almanac and retrieving an HTTP [endpoint ↗️](/references/contracts/uagents-almanac/endpoints) from the recipient agent. Therefore, we need to specify the service endpoints when defining an Agent at registration.

    <Callout type="info" emoji="ℹ️">
      HTTP (Hypertext Transfer Protocol) service endpoints are specific locations or URLs (Uniform Resource Locators) on a web server where clients can send HTTP requests to interact with resources or services provided by the server. These endpoints define the entry points for various operations or functions offered by a web service or application.
    </Callout>

Let's create a Python script for this example:

<CodeGroup hasCopy isOSFile>
<DocsCode mac={true}>
    ```py copy filename="mac"
    touch almanac_registration.py
    ```
</DocsCode>
<DocsCode windows={true}>
    ```py copy filename="windows"
    echo. > almanac_registration.py
    ```
</DocsCode>

<DocsCode ubuntu={true}>
    ```py copy filename="ubuntu"
    touch almanac_registration.py
    ```
</DocsCode>

</CodeGroup>

We will have what follows:

<GithubCodeSegment digest="6ae779e605343536a4618ccc0a03be1b">
    <CodeSegment
        path="https://github.com/fetchai/uAgent-Examples/blob/main/5-documentation/guides/agent-courses/introductory-course/almanac_registration.py"
        lineStart={1}
        lineEnd={19}
        hosted={true}
    />
</GithubCodeSegment>
