import {Callout} from 'nextra/components'

# Running locally

Sometimes you'll want to run an agent on your own hardware, or infrastructure; luckily this is very easy to do on any system that support Python 3.10

## Introduction

In a fairly simplistic way, your agent will live on a device of your choice. It will register to the Almanc, and then we will go
## Walk-through

1. First of all, create a Python script and name it by running: `touch registration.py`

2. Then, import the `Agent` class from the `uagents` library to create our agent, and the `fund_agent_if_low` class from the `uagents.setup` module. This function will check if you have enough tokens to register in the Almanac contract, if not it will add testnet tokens to your `Fetch Network address`. Then, create an agent, `alice`, providing `name`, `port`, `seed`, and `endpoint`:

```py copy filename="registration.py"
from uagents.setup import fund_agent_if_low
from uagents import Agent, Context, Protocol
import random
from pydantic import Field
from ai_engine import UAgentResponse, UAgentResponseType

 alice = Agent(
     name="alice",
     port=8000,
     seed="alice secret phrase",
     endpoint=["http://YOUR_HOSTED_ADDRESS/submit"],
 )

 fund_agent_if_low(alice.wallet.address())

 @alice.on_interval(period=3)
 async def hi(ctx: Context):
     ctx.logger.info(f"Hello")

class DiceRoll(Model):
    num_rolls: int = Field(description="Number of rolls.")

dice_roll_protocol = Protocol("DiceRoll")

@dice_roll_protocol.on_message(model=DiceRoll, replies={UAgentResponse})
async def roll_dice(ctx: Context, sender: str, msg: DiceRoll):
    result = ", ".join([str(random.randint(1, 6)) for _ in range(msg.num_rolls)])
    message = f"Dice roll results: {result}"
    await ctx.send(
        sender, UAgentResponse(message=message, type=UAgentResponseType.FINAL)
)

alice.include(dice_roll_protocol, publish_manifest=True)

alice.run()
 ```


We'll run this with a dockerfile, but of course you can run this python script wherever, but be sure to open up the correct port!


There's a few things happening in this script; we initalise Alice with an endpoint. An endpoint is the address in which other agents can send messages to where Alice will be listening. As highlighted in [Registration and Endpoints Weighting ‚ÜóÔ∏è](/references/contracts/uagents-almanac/endpoints), agents can communicate by querying the Almanac and retrieving an endpoint from the recipient uAgent. Therefore, we need to specify the service endpoints when defining our agents.

We also have to define `alice.run()` this `.run()` fuction tells the uAgent library to run the agent, but more importantly tells the uAgnet library to register the agent to the Almanac.

Once you run your script, your agent will start the registration process automatically, the balance of the agent's wallet will be checked and funded if needed. Finally, it will try to register on the Almanac contract. Then, we will be ready to start to a remote communication with other agents registered within the Almanac contract.

<Callout type="info" emoji="‚ÑπÔ∏è">
    For further information on how to set up your uAgents and register them into the Almanac to allow for remote
    communication, visit the [Communicating with other uAgents üì±ü§ñ ‚ÜóÔ∏è](/guides/agents/communicating-with-other-agents)
    guide.
</Callout>

