import { Callout } from 'nextra/components'


# AI-Engine Python SDk

## Introduction

AI Engine SDK provides an easy-to-use interface for integrating advanced AI functionalities into your applications. With a simple API and comprehensive documentation, developers can effortlessly leverage powerful AI tools and enhance their projects.

## Getting Started

### Prerequisites
Before you begin, ensure you have met the following requirements:
- **Python 3.10 or higher** installed on your system.
- A valid **Agentverse API key**. You can obtain this from [Agentverse ↗️](https://agentverse.ai/).

<Callout type="info" emoji="ℹ️">
To find out how to generate an API KEY check out the documentation regarding [Agentverse API keys ↗️](https://fetch.ai/docs/guides/apis/agent-function-creation-apis).
</Callout>

### Installation
You can install the AI Engine SDK using either Poetry or pip. Follow the commands below.

```bash copy
poetry add ai-engine-sdk
pip install ai-engine-sdk
```

<Callout type="info" emoji="ℹ️">
      Explore the additional resources we have on AI Engine compatible Agents:
        - [Make your agents AI Engine compatible ↗️](/guides/agents/intermediate/ai-engine-compatible-agent)
        - [Agent Functions ↗️](/guides/agents/intermediate/agent-functions)
        - [Register Agent Functions ↗️](/guides/agentverse/agentverse-functions/registering-agent-services)
        - [DeltaV ↗️](/concepts/ai-engine/deltav)
</Callout>


## SDK overview

### Creating the AI Engine client object

To set up and initialize the AiEngine client with your API key, use the following code snippet. This client will allow you to interact with the AI Engine API, enabling you to start sessions, get function groups, and manage messages.

```py copy
from ai_engine_sdk import AiEngine
ai_engine: AiEngine = AiEngine(api_key)
```

### Querying Function Groups in AI Engine SDK

```py copy
function_groups: list[FunctionGroup] = await ai_engine.get_function_groups()

public_group = next(
	(g for g in function_groups if g.name == "Fetch Verified"), 
	None
)
```

If you would like to use the functions in your own My Functions function group instead then you can use this filter instead:

```py copy
my_group = next(
	(g for g in function_groups if g.name == "My Functions"), 
	None
)
```

### Creating a session with the AI Engine.

This code starts a session with the AI Engine using the UUID of the selected function group.

```py copy
session = await ai_engine.create_session(function_group=public_group.uuid)
```

### Starting the conversation with an arbitrary objective

```py copy
await session.start(objective)
```

### Querying new messages

This line asynchronously queries the AI engine to retrieve a list of messages related to the current session. The messages are returned as a list of `ApiBaseMessage` objects, which can include various types of messages such as agent messages, AI engine messages, task selections, confirmations, and session stop messages. These messages are then processed to determine the next actions in the session workflow.

```py copy
while True:
	messages: list[ApiBaseMessage] = await session.get_messages()
	sleep(4)
```

## Handling Different Types of Messages


#### Task Selection Message (`is_task_selection_message`)

This message is generated when the AI engine suggests functions based on the initial objective or provides multiple options for a function.


#### Agent Message (`is_agent_message`)

This is a regular question from the AI Engine that the user needs to reply to with a string.

#### AI Engine Message (`is_ai_engine_message`)

This message type doesn't require a user response; it simply notifies the user about something.

#### Confirmation Message (`is_confirmation_message`)

This message is sent when the AI Engine has gathered all necessary inputs for the agent's function, indicating that the context is complete.

#### Stop Message (`is_stop_message`)

This message is sent when the session has ended, and the AI Engine no longer expects any replies from the user.


<Callout type="info" emoji="ℹ️">
All message types (expect for the AI engine message and stop message) expects a response from the user.
</Callout>


## SDK Methods for Replying

### Task Selection Message

Use `session.submit_task_selection`.

### Agent Message

Use `session.submit_response`.

### Confirmation Message

Use either `session.submit_confirmation` to confirm, or `session.reject_confirmation` to reject the context generated by the AI engine.



## Deleting session

After finishing a conversation with the AI Engine, you can delete the session by using the following command.

```py copy
 await session.delete()
```

