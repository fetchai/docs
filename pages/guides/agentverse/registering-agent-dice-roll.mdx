import { Callout } from 'nextra/components'

# Agentverse Functions: register a dice roll agent as a Function üé≤

## Introduction

In the [previous section ‚ÜóÔ∏è](/guides/agentverse/registering-agent-coin-toss) you have got familiar with the creation of a coin toss agent function that can be registered as a Function and then used via [DeltaV ‚ÜóÔ∏è](/concepts/ai-engine/deltav).

In this example we are going to try out another use case: a **dice roll agent**.

    <Callout type="info" emoji="‚ÑπÔ∏è">
      Checkout the [Agentverse Functions ‚ÜóÔ∏è](/guides/services/services) guide for additional information needed for Agents Functions registration on the Agentverse and Fetch network.
    </Callout>

## Create your dice roll agent!

For this navigate to the [Agentverse: My Agents ‚ÜóÔ∏è](https://agentverse.ai/agents) tab and click on the **Use case** button:

![](../../../src/images/guides/agentverse/registering-agent-coin-toss/hosted-agent-use-case-button.png)

When the dialog is open, select the **DeltaV compatible Dice Roll Agent** use case:

![](../../../src/images/guides/agentverse/registering-agent-dice-roll/use-case-dialog.png)

Now, a new agent has been created for you:

![](../../../src/images/guides/agentverse/registering-agent-dice-roll/hosted-agent-in-list.png)

## Run your dice roll agent!

After clicking on the row of your newly created agent, you should be able to see the source code of your dice roll agent in the editor view:

    ```python copy filename="agent.py"
    # Here we demonstrate how we can create a simple dice roll agent that is compatible with DeltaV.

    # After running this agent, it can be registered to DeltaV on Agentverse Services tab. For registration you will have to use the agent's address.

    import random
    # third party modules used in this example
    from pydantic import Field
    from ai_engine import UAgentResponse, UAgentResponseType


    class DiceRoll(Model):
        num_rolls: int = Field(description="Number of rolls.")

    dice_roll_protocol = Protocol("DiceRoll")


    @dice_roll_protocol.on_message(model=DiceRoll, replies={UAgentResponse})
    async def roll_dice(ctx: Context, sender: str, msg: DiceRoll):
        result = ", ".join([str(random.randint(1, 6)) for _ in range(msg.num_rolls)])
        message = f"Dice roll results: {result}"
        await ctx.send(
            sender, UAgentResponse(message=message, type=UAgentResponseType.FINAL)
    )

    agent.include(dice_roll_protocol, publish_manifest=True)
    ````

Now click on the **Run** button in the upper right corner of the editor so that you have your dice roll agent up and running!

![](../../../src/images/guides/agentverse/registering-agent-dice-roll/run-hosted-agent.png)

## Register your dice roll agent Function!

Similar to the [Agentverse Services: register a coin toss agent as a Function ü™ô ‚ÜóÔ∏è](/guides/agentverse/registering-agent-coin-toss#register-your-coin-toss-agent), let's navigate to the [Agentverse: My Agents ‚ÜóÔ∏è](https://agentverse.ai/) tab. Here, click on your agent to show the Agent Editor and then click on the **Deploy** tab to start registering your agent function. Fill the form out as follows:

![](../../../src/images/guides/agentverse/registering-agent-dice-roll/new-service-dialog.png)

    - **Function title**: just the name of your Agent Function. In this example let's call it _Dice roll service_.
    - **Description**: super important to be as detailed as you can, as reasoning engine looks at descriptions to understand what your function does. In this example we can specify something like this: _Dice roll Function that rolls a dice. The number of rolls is specified by the user._
    - **Application**, **Protocol**, **Model** and **Field descriptions** will be automatically populated based on the source code of [your dice roll agent ‚ÜóÔ∏è](/guides/agentverse/registering-agent-dice-roll#run-your-dice-roll-agent)

## Let's find our Function on DeltaV

Now, head to [DeltaV ‚ÜóÔ∏è](https://deltav.agentverse.ai/) and sign in.

First, you will be asked to **Select a Service group**. Let's select the `Use case` service group in the dropdown positioned on the upper right part of the screen as that's the one we created for this guide. After that in the **Select an objective** section you can use a predefined objective, but let's click on the **Something else** option and type `Dice a roll`.

![](../../../src/images/guides/agentverse/registering-agent-dice-roll/select-service-group.png)

After navigating to the chat interface, you will be asked to select a primary function. As your objective (`Roll a dice`) specified on the previous screen contained words related to the [description of your dice roll agent ‚ÜóÔ∏è](/guides/agentverse/registering-agent-dice-roll#register-your-dice-roll-agent), your **DiceRoll** Function is listed as an option. Let's select it.

![](../../../src/images/guides/agentverse/registering-agent-dice-roll/select-task.png)

After selecting the task, you will be asked about the number of rolls you want to do. The AI Engine behind DeltaV asks this question based on the description `Number of rolls.` that was specified in the [predefined use case before ‚ÜóÔ∏è](/guides/agentverse/registering-agent-dice-roll#run-your-dice-roll-agent). Send the number of rolls in the input field at the bottom of the screen - in this case let's stick with `10`.

![](../../../src/images/guides/agentverse/registering-agent-dice-roll/select-option.png)

Then, you can confirm or reject the context that the AI Engine is planning to execute. Let's confirm it!

![](../../../src/images/guides/agentverse/registering-agent-dice-roll/confirm-context.png)

After your service has been executed you can see your dice roll results.

![](../../../src/images/guides/agentverse/registering-agent-dice-roll/task-completed.png)

With that, **you have gotten a dice roll function which can be discovered and contacted with DeltaV. Awesome!**
