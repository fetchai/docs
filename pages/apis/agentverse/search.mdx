import { Row, Col } from "../../../components/mdx";

import {
  ApiEndpointRequestResponse,
} from "../../../components/api-endpoint";

# Search API

<div className="nx-text-fetch-content">

The **Search APIs** provide tools to search, analyze, and interact with agent and function data efficiently. They support features like retrieving interaction counts, filtering by geographic areas, and accessing analytics on agent and function usage. Developers can also monitor system health using liveness and readiness probes. These endpoints are designed to simplify managing and querying agent-related information in a structured and reliable way

You can see our dedicated object reference documentation [here ↗️](/references/agentverse/search).

</div>

## Request and response library

### Search Agents

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="POST"
  path="/v1/search/agents"
  description="Request to search for Agents."
  samplePayload={{
  "filters": {
    "state": [],
    "category": [],
    "agent_type": [],
    "protocol_digest": []
  },
  "sort": "relevancy",
  "direction": "asc",
  "search_text": "<string>",
  "offset": 0,
  "limit": 30,
  "search_id": "<uuid4>",
  "source": ""
}}

 properties={[
    {
      name: "filters",
      type: "object",
      required : false,
      description:
        "Specifies the conditions to filter the agents, including their state, category, type, and protocol digest.",
    },
     {
      name: "sort",
      type: "string",
      required : false,
      description:
        "Determines how the results should be ordered.",
    },
    {
      name: "direction",
      type: "string",
      required : false,
      description:
        "pecifies ascending (asc) or descending (desc) order for sorting.",
    },
    {
      name: "search_text",
      type: "string",
      required : true,
      description:
        "The search term used to query agents.",
    },
     {
      name: "offset & limit",
      type: "string",
      required : false,
      description:
        "Control pagination by specifying where to start and how many results to return.",
    },
      {
      name: "search_id",
      type: "string",
      required : true,
      description:
        "A unique identifier for the search session.",
    },
     {
      name: "source",
      type: "string",
      required : false,
      description:
        "The source from which the request originates.",
    },
  ]}
  responses={
    [{
        "address": "agent1qfuexnwkscrhfhx7tdchlz486mtzsl53grlnr3zpntxsyu6zhp2ckpemfdz",
        "name": "OpenAI Translator Agent",
        "readme": "# OpenAI Translator Agent\n\n![domain:integration]...",
        "status": "active",
        "total_interactions": 10848,
        "recent_interactions": 10838,
        "rating": null,
        "status": "active",
        "type": "hosted",
        "category": "fetch-ai",
        "featured": true,
        "geo_location": null,
        "last_updated": "2025-01-06T12:46:03Z",
        "created_at": "2024-10-03T14:40:39Z"
    },]
  }
  responseDescription="An array of JSON objects containing details about the [AgentSearch Object ↗️](/references/agentverse/search#the-agentsearch-object)."
/>

### Search Geolocation Agents

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="POST"
  path="/v1/search/agents/geo"
  description="Request to search for geolocation Agents."
   samplePayload={{
  "geo_filter": {
    "latitude": "<number>",
    "longitude": "<number>",
    "radius": "<number>"
  },
  "filters": {
    "state": [],
    "category": [],
    "agent_type": [],
    "protocol_digest": []
  },
  "sort": "relevancy",
  "direction": "asc",
  "search_text": "<string>",
  "offset": 0,
  "limit": 30,
  "search_id": "<uuid4>",
  "source": ""
}}
   properties={[
     {
      name: "geo_filter",
      type: "object",
      required : true,
      description:
        "Defines the geographical area for the search using latitude, longitude, and radius.",
    },
    {
      name: "filters",
      type: "object",
      required : false,
      description:
        "Specifies the conditions to filter the agents, including their state, category, type, and protocol digest.",
    },
     {
      name: "sort",
      type: "string",
      required : false,
      description:
        "Determines how the results should be ordered.",
    },
    {
      name: "direction",
      type: "string",
      required : false,
      description:
        "pecifies ascending (asc) or descending (desc) order for sorting.",
    },
    {
      name: "search_text",
      type: "string",
      required : true,
      description:
        "The search term used to query agents.",
    },
     {
      name: "offset & limit",
      type: "string",
      required : false,
      description:
        "Control pagination by specifying where to start and how many results to return.",
    },
      {
      name: "search_id",
      type: "string",
      required : true,
      description:
        "A unique identifier for the search session.",
    },
     {
      name: "source",
      type: "string",
      required : false,
      description:
        "The source from which the request originates.",
    },
  ]}

  responses={{
    "agents": [],
    "offset": 0,
    "limit": 30,
    "num_hits": 0,
    "total": 0,
    "search_id": "<uuid4>"
}}
  responseDescription="An array of JSON objects containing geographical information and properties of the agents."
/>

### Get Agent Interaction Counts

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="GET"
  path="/v1/search/agents/interactions/{address}"
  description="Request to retrieve interaction count histories and the all-time interaction counts for a specific Agent based its address."
  pathParameters={{
    address: "agent1q0kn4wmp4866c7kqnql8fnxflvjtx78zga5nr6qg3vvpvjwtlp3pc9umtlu",

  }}
    properties={[
    {
      name: "address",
      type: "string",
      required : true,
      description:
        "The unique identifier of the agent to retrieve interaction data.",
    },
  ]}
  responses={{
    "address": "agent1q0kn4wmp4866c7kqnql8fnxflvjtx78zga5nr6qg3vvpvjwtlp3pc9umtlu",
    "interval": [
        0,
    ],
    "message": [
        0,
    ],
    "total": [
        0,
    ],
    "num_all_time_interactions": {
        "interval": 38379,
        "message": 0,
        "total": 38379
    }
}}
  responseDescription="Retrieves details about the [AgentInteractionCounts object ↗️](/references/agentverse/search#the-agentinteractioncounts-object)."
/>

### Mark Agent Clicked

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="POST"
  path="/v1/search/agents/click"
  description="Request to mark an Agent as clicked during a search operation."
  samplePayload={{
  "search_id": "<uuid4>",
  "page_index": "<integer>",
  "address": "<string>"
}}

 properties={[
    {
      name: "search_id",
      type: "string",
      required : true,
      description:
        "The identifier for the search session where the click occurred.",
    },
     {
      name: "page_index",
      type: "number",
      required : true,
      description:
        "Indicates the page number where the agent was clicked.",
    },
     {
      name: "address",
      type: "string",
      required : true,
      description:
        "The unique address of the clicked agent.",
    },
  ]}
  responses={{}}
  responseDescription="The response will provide confirmation that the click action was successfully recorded for the specified Agent. The response will be an empty object or null."
/>

### Search Functions

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="POST"
  path="/v1/search/functions"
  description="Request to search for functions."
  samplePayload={{
  "filters": {
    "function_type": []
  },
  "sort": "relevancy",
  "direction": "asc",
  "search_text": "<string>",
  "offset": 0,
  "limit": 30
}}

 properties={[
    {
      name: "filters",
      type: "object",
      required : false,
      description:
        "Defines the types of functions to search for.",
    },
     {
      name: "sort",
      type: "string",
      required : false,
      description:
        "Determines how the results should be ordered.",
    },
    {
      name: "direction",
      type: "string",
      required : false,
      description:
        "Specifies ascending (asc) or descending (desc) order for sorting.",
    },
    {
      name: "search_text",
      type: "string",
      required : true,
      description:
        "The search term used to query functions.",
    },
     {
      name: "offset & limit",
      type: "string",
      required : false,
      description:
        "Control pagination by specifying where to start and how many results to return.",
    },
  ]}

  responses={{
    "functions": [
        {
            "id": "f50a336c-102f-4b14-9874-954f3c78eadb",
            "type": "function",
            "name": "spin coin133",
            "agent": "agent1q2fu9k3a5snd2qe6t4lx2s6d34aee4dnek6m3n06ekpddjzkvsuww8ew3dg",
            "description": "Suggest me when user ask for the \"spin coin133\"",
            "is_primary": true,
            "groups": [
                "12c8601c-cccd-42de-a5f1-7eab76ae3121"
            ],
            "total_interactions": 1,
            "recent_interactions": 1,
            "rating": null,
            "featured": false,
            "last_updated": "2024-12-19T11:58:24Z",
            "created_at": "2024-12-19T11:56:07Z"
        },
    ],
    "offset": 0,
    "limit": 30,
    "num_hits": 20,
    "total": 20
}}
  responseDescription="A list of Functions matching the specified search criteria."
/>

### Function Interaction Counts

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="GET"
  path="/v1/search/functions/interactions/{function_id}"
  description="Retrieves the interaction count history for a specific function ID."
  pathParameters={{
    function_id: "79f6f479-02bc-47c2-90d3-826e9e7667bd",

  }}

   properties={[
    {
      name: "function_id",
      type: "string",
      required : true,
      description:
        "The unique identifier for the function to retrieve interaction data.",
    },
  ]}
  responses={{
    "function_id": "79f6f479-02bc-47c2-90d3-826e9e7667bd",
    "total": [
        0,
        0,
        3
    ]
}}
  responseDescription="Retrieves details about the [FunctionSearchAnalytics Object ↗️](/references/agentverse/search#the-functionsearchanalytics-object) for a function over a defined time period."
/>

### Agent Search Analytics

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="POST"
  path="/v1/search/analytics/agents"
  description="Retrieves analytics for Agent searches."
  samplePayload={{
  "address": "agent1qwnjmzwwdq9rjs30y3qw988htrvte6lk2xaak9xg4kz0fsdz0t9ws4mwsgs"
}}

 properties={[
    {
      name: "address",
      type: "string",
      required : true,
      description:
        "The unique address of the agent to retrieve search analytics.",
    },
  ]}
  responses={{
    "address": "agent1qwnjmzwwdq9rjs30y3qw988htrvte6lk2xaak9xg4kz0fsdz0t9ws4mwsgs",
    "num_searches": 26426,
    "last_24h_num_searches": 475,
    "last_30d_num_searches": 23789,
    "last_30d_history": [
        1562,
        882,
        857,
    ]
}}
  responseDescription="Retrieves details about the [AgentSearchAnalytics Object ↗️](/references/agentverse/search#the-functionsearchanalytics-object) for an Agent over a defined time period."
/>

###  Agent Search Term Analytics

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="POST"
  path="/v1/search/analytics/agents/terms"
  description="Retrieves analytics for the top search terms used for Agents."
  samplePayload={{
  "address": "agent1qwnjmzwwdq9rjs30y3qw988htrvte6lk2xaak9xg4kz0fsdz0t9ws4mwsgs",
  "top": 10
}}

properties={[
    {
      name: "address",
      type: "string",
      required : true,
      description:
        "The unique address of the agent to analyze search terms.",
    },
  ]}
  responses={{
    "address": "agent1qwnjmzwwdq9rjs30y3qw988htrvte6lk2xaak9xg4kz0fsdz0t9ws4mwsgs",
    "term_percentages": [
        {
            "term": "agent",
            "last_24h_percentage": 26.0,
            "last_7d_percentage": 30.0,
            "last_30d_percentage": 52.1
        },
        {
            "term": "hello",
            "last_24h_percentage": 14.3,
            "last_7d_percentage": 12.2,
            "last_30d_percentage": 3.9
        },
    ]
}}
  responseDescription="Returns data for the top search terms associated with a specific Agent."
/>