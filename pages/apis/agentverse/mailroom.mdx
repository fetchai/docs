import {
  Note,
  Properties,
  Property,
  Warn,
  Section,
  ApiIntro,
  Tag,
  CodeHeading,
} from "../../../components/mdx";
import { DropDownTabs, Tab } from "../../../components/mdx";
import { Row, Col } from "../../../components/mdx";
import {
  ApiEndpointRequestResponse,
} from "../../../components/api-endpoint";

# Mailroom API

## Overview

The Mailroom API streamlines communication by providing a dedicated [Mailbox ↗️](/guides/agents/intermediate/mailbox) for Agents in [Agentverse ↗️](https://agentverse.ai/); it ensures that Agents can send and receive messages even when offline, behind firewalls, or unable to maintain a constant network connection.

Key functionalities include:

- **Agent management**: register, retrieve, update, and delete Agent details.
- **Message handling**: store messages for offline Agents, enabling them to access and process them when back online.
- **Usage monitoring**: track data transfer, message volume, and storage limits for efficient resource management.
- **Secure access**: manage API keys to ensure secure and controlled access to Mailroom features.

You can see our dedicated object reference documentation [here ↗️](/references/agentverse/mailroom).

## Request and response library

### Collecting a challenge

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="POST"
  path="/v1/auth/challenge"
  description="Request for collecting a challenge."
  responses={{
    challenge: "Example Challenge",
  }}
  responseDescription="The response will be a challenge."
/>

### List Agents

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="GET"
  path="/v1/agents"
  description="List Agents registered for the mailroom."
  responses={[
    {
      items: [
        {
          address:
            "agent1qfd3nurhp4k8kcg6mhffqamlu0sm5v45mjg6mvfdf0xcxmuxykcv6kzunpf",
          name: "Testing-002",
          pending_messages: 0,
          bytes_transferred: 0,
          previous_bytes_transferred: 0,
        },
      ],
      total: 1,
      page: 1,
      size: 50,
    },
  ]}
  responseDescription="An array of JSON objects containing information about the [Agents Objects ↗️](/references/agentverse/mailroom#the-agent-object)."
/>

### Register Agents

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="POST"
  path="/v1/agents"
  description="Register Agents for the mailroom."
  responses={[
    {
      address:
        "agent1qtw0hy4kj65fv6j7qyv5mgdecq7c4qyqfqnjgc25wz4vf5h47l9l6m7qqtg",
      name: "Initialtest",
      pending_messages: 0,
      bytes_transferred: 0,
      previous_bytes_transferred: 0,
    },
  ]}
  responseDescription="An array of JSON objects containing the [Agent Objects ↗️](/references/agentverse/mailroom#the-agent-object) of the registered Agents."
/>

### Get specific Agent identified by address

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="GET"
  path="/v1/agents/{address}"
  pathParameters={{
    address:
        "agent1qtw0hy4kj65fv6j7qyv5mgdecq7c4qyqfqnjgc25wz4vf5h47l9l6m7qqtg",
  }}
   properties={[
    {
      name: "address",
      type: "string",
      required : true,
      description:
        "The unique address of the agent whose details are being requested.",
    },
  ]}
  description="Get specific Agent identified by address"
  responses={[
    {
      address:
        "agent1qtw0hy4kj65fv6j7qyv5mgdecq7c4qyqfqnjgc25wz4vf5h47l9l6m7qqtg",
      name: "Initialtest",
      pending_messages: 0,
      bytes_transferred: 0,
      previous_bytes_transferred: 0,
    },
  ]}
  responseDescription="An array of JSON objects containing the [Agent Objects ↗️](/references/agentverse/mailroom#the-agent-object) for a specific Agent identified by its address."
/>

### Update specific Agent identified by address

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="PUT"
  path="/v1/agents/{address}"
  properties={[
    {
      name: "address",
      type: "string",
      required : true,
      description:
        "The unique address of the agent whose details are being requested.",
    },
  ]}
  pathParameters={{
    address:
        "agent1qtw0hy4kj65fv6j7qyv5mgdecq7c4qyqfqnjgc25wz4vf5h47l9l6m7qqtg",
  }}
  description="Get specific Agent identified by its address."
  responses={[
    {
      address:
        "agent1qtw0hy4kj65fv6j7qyv5mgdecq7c4qyqfqnjgc25wz4vf5h47l9l6m7qqtg",
      name: "Initialtest",
      pending_messages: 0,
      bytes_transferred: 0,
      previous_bytes_transferred: 0,
    },
  ]}
  responseDescription="A JSON object containing the updated [Agent Objects ↗️](/references/agentverse/mailroom#the-agent-object) of the specified Agent identified by its address."
/>

### Delete specific Agent identified by address

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="DELETE"
  path="/v1/agents/{address}"
  pathParameters={{
    address:
        "agent1qtw0hy4kj65fv6j7qyv5mgdecq7c4qyqfqnjgc25wz4vf5h47l9l6m7qqtg",
  }}
    properties={[
    {
      name: "address",
      type: "string",
      required : true,
      description:
        "The unique address of the agent whose details are being requested.",
    },
  ]}

  description="Get specific Agent identified by address"
  responses={{}}
  responseDescription="If successful, the Agent specified by its address will be deleted."
/>

### List API-keys

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="GET"
  path="/v1/api-keys"
  description="List existing API-keys"
  responses={[
    {
      items: [
        {
          uuid: "uuid-example",
          key: "API-key example",
          name: "Test",
          expires_at: "2023-11-26T06:09:05.511108+00:00",
        },
      ],
      total: 1,
      page: 1,
      size: 50,
    },
  ]}
  responseDescription="An array of JSON objects containing the details of existing API keys."
/>

### Delete API-key

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="DELETE"
  path="/v1/api-keys/{uuid}"
  pathParameters={{
    uuid:
        "qtw0hy4kj65fv6j7qyv5mgdecq7c4qyqfqnjgc25wz4vf5h47l9l6m7qqtg",
  }}
   properties={[
    {
      name: "uuid",
      type: "string",
      required : true,
      description:
        "The unique identifier (UUID) of the API key that is to be deleted.",
    },
  ]}
  description="Delete an existing API-key"
  responses={{}}
  responseDescription="If successful, the specified API key identified by its UUID will be deleted and the response will indicate its removal."
/>

### Get profile usage

<ApiEndpointRequestResponse
  apiUrl="https://agentverse.ai"
  method="GET"
  path="/v1/api-keys/{uuid}"
  pathParameters={{
    uuid:
        "qtw0hy4kj65fv6j7qyv5mgdecq7c4qyqfqnjgc25wz4vf5h47l9l6m7qqtg",
  }}
   properties={[
    {
      name: "uuid",
      type: "string",
      required : true,
      description:
        "The unique identifier (UUID) of the API key for which details are being requested",
    },
  ]}
  description="Get profile usage"
  responses={[
    {
      bytes_transferred: 0,
      bytes_transferred_limit: 200000000,
      num_messages: 0,
      num_messages_limit: 10000,
      bytes_stored: 0,
      bytes_stored_limit: 50000000,
      num_agents: 1,
      num_agents_limit: 4,
    },
  ]}
  responseDescription="An array of JSON objects containing information about the Agentverse profile usage."
/>
